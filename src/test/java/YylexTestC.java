import java.io.*;
import java.util.Comparator;
import java.util.Set;
import java.util.TreeSet;

import com.dag.useragents.*;
import junit.framework.TestCase;
import org.junit.Test;

import static junit.framework.TestCase.assertTrue;

public class YylexTestC {

    class Info {
        public Info(int v, String i) {
            this.v = v;
            this.i = i;
        }

        int v;
        String i;
    }

    static int TOP = 100;

    @Test
    public void testAllList() throws IOException {
        int T = 0, E = 0, D = 0, M = 0;

        TreeSet<Info> max = new TreeSet<Info>(new Comparator<Info>() {
            @Override
            public int compare(Info o1, Info o2) {
                if (o1.v < o2.v) return -1;
                if (o1.v > o2.v) return 1;
                return o1.i.compareTo(o1.i);
            }
        });

        try (BufferedReader st = new BufferedReader(new FileReader("src/test/resources/userAgents.csv"));) {
            String l = null;
            boolean first = true;
            while ((l = st.readLine()) != null) {
                if (first) {
                    first = false;
                    continue;
                }

                int i = l.indexOf('"');
                int j = l.indexOf('"', i + 1);
                String n = l.substring(j + 2, l.indexOf(';', j + 2));
                int v = Integer.parseInt(n);
                String ll = l.substring(i + 1, j - i);

                T += v;
                M += 1;
                try {
                    Utility.debug = false;
                    DeviceSummary result = Utility.getDeviceSummary(ll);

                    if (result == null) {
//                        if (!ll.startsWith("(NULL)") && !ll.startsWith("'") && !ll.startsWith("\""))
//                            System.out.println(ll);
                        E += v;
                        D++;

                        max.add(new Info(v, ll));
                    }
                } catch (Exception ex) {
                    E += v;
                    D++;
                    max.add(new Info(v, ll));
                }

                if (max.size() > TOP) {
                    max.remove(max.first());
                }

            }
        } catch (Exception e) {
            //e.printStackTrace();
        }

        System.out.println((double) E / T);
        System.out.println((double) D / M);

        for (Info inf : max) {
            System.out.println(inf.v + "> " + inf.i);
        }

    }


    Object tests[][] = {
            {"OPERA/9.80 (LINUX ARMV7L; OPERA TV STORE/6176) PRESTO/2.12.407 VERSION/12.51 MODEL/HISENSE-MTK5655 /EM", new DeviceSummary("tv", null, "HISENSE-MTK5655", "linux", null, null)}
            , {"OPERA/9.80 (LINUX ARMV7L; HBBTV/1.2.1 (; PHILIPS; 43PFG510078; ; PHILIPSTV;  CE-HTML/1.0 NETTV/4.4.2 SMARTTVA/3.0.0 FIRMWARE/026.002.012.001 (PHILIPSTV, 4.1.1,)EN) ) PRESTO/2.12.407 VERSION/12.50", new DeviceSummary("tv", "PHILIPS", "43PFG510078", "linux", null, null)}
            , {"SE.HARBOURFRONT.VIASATONDEMAND/1.1 IOS/11.2 APPLETV/11.2 MODEL/APPLETV5,3 HWP/T7000 BUILD/15K106 (3; DT:119)", new DeviceSummary("tv", "SE.HARBOURFRONT.VIASATONDEMAND", null, "ios", "15K1065", "11.2")}
            , {"MOZILLA/5.0 (LINUX ARMV7L) APPLEWEBKIT/537.36 (KHTML, LIKE GECKO) CHROME/42.0.2311.152 SAFARI/537.36 OPR/29.0.1803.0 OMI/4.5.23.37.ALSAN5.125 SONY %CATEGORY/KDL-48W655D V7.070", new DeviceSummary("tv", "sony", "KDL-48W655D", "linux", "V7.070", null)}
            , {"MOZILLA/5.0 (WINDOWS PHONE 10.0; ANDROID 6.0.1; NOKIA; LUMIA 730 DUAL SIM) APPLEWEBKIT/537.36 (KHTML, LIKE GECKO) CHROME/51.0.2704.79 MOBILE SAFARI/537.36 EDGE/14.14393", null}
            , {"MOZILLA/5.0 (WEB0S; LINUX/SMARTTV) APPLEWEBKIT/538.2 (KHTML, LIKE GECKO) LARGE SCREEN WEBAPPMANAGER SAFARI/538.2", null}
            , {"MOZILLA/5.0 (LINUX; ANDROID 7.0; SM-G935F BUILD/NRD90M; WV) APPLEWEBKIT/537.36 (KHTML, LIKE GECKO) VERSION/4.0 CHROME/63.0.3239.111 MOBILE SAFARI/537.36 [FB_IAB/FB4A;FBAV/153.0.0.54.88;]", new DeviceSummary(null, null, "SM-G935F", "android", "NRD90M", "7.0")}
            , {"MOZILLA/5.0 (LINUX; ANDROID 7.1.2; QM163E BUILD/NZH54D; WV) APPLEWEBKIT/537.36 (KHTML, LIKE GECKO) VERSION/4.0 CHROME/63.0.3239.111 MOBILE SAFARI/537.36; XDKANDROIDWEBVIEW/2.5.3/XDKWEBVIEW; PHILIPS; PHILIPS/QM16XE_U/QM16XE_U:7.1.2/NZH54D/0152091:USER", null}
            , {"MOZILLA/5.0 (LINUX; ANDROID 7.0; BRAVIA 4K GB BUILD/NRD91N.S90; WV) APPLEWEBKIT/537.36 (KHTML, LIKE GECKO) VERSION/4.0 CHROME/63.0.3239.111 MOBILE SAFARI/537.36; XDKANDROIDWEBVIEW/2.5.3/XDKWEBVIEW; SONY; SONY/BRAVIA_ATV2_EU/BRAVIA_ATV2:7.0/NRD91N.S90", null}
            , {"MOZILLA/5.0 (WINDOWS NT 10.0; WIN64; X64) APPLEWEBKIT/537.36 (KHTML, LIKE GECKO) CHROME/64_CHROME SAFARI/537.36 FUNDAMENTAL MONITOR", null}
            , {"MOZILLA/5.0 (WEB0S; LINUX/SMARTTV) APPLEWEBKIT/537.36 (KHTML, LIKE GECKO) CHROME/38.0.2125.122 SAFARI/537.36 WEBAPPMANAGER", null}
            , {"MOZILLA/5.0 (WEB0S; LINUX/SMARTTV) APPLEWEBKIT/537.36 (KHTML, LIKE GECKO) CHR0ME/38.0.2125.122 SAFARI/537.36 LG BROWSER/8.00.00(LGE; 55UH750V-ZA; 05.30.02; 1; DTV_W16N); WEBOS.TV-2016; LG NETCAST.TV-2013 COMPATIBLE (LGE, 55UH750V-ZA, WIRELESS)", new DeviceSummary("tv", "lg", "QM163E", "android", "NZH54D", "7.1.2")}
            , {"MOZILLA/5.0 (DIRECTFB; LINUX ARMV7L) APPLEWEBKIT/537.1+ (KHTML, LIKE GECKO) SAFARI/537.1+ LG BROWSER/6.00.00(+SCREEN+TUNER; LGE; 32LH570B-SC; 05.00.06; 0X00000001; LCD_SS1A); LG SIMPLESMART.TV-2016/05.00.06 (LG, 32LH570B-SC, WIRELESS)", new DeviceSummary("tv", "lg", "QM163E", "android", "NZH54D", "7.1.2")}
            , {"MOZILLA/4.0 (COMPATIBLE; MSIE 5.01; WINDOWS 98; LINUX 2.4.36.2-TANGOX) [NETGEM; 6.0.05-149; I-PLAYER; NETBOX; NETIA]; 00:04:30:66:D0:8C", new DeviceSummary("mobile", "MBX", "REFERENCE BOARD (G18REF)", "linux", "JDQ39", "4.2.2")}
            , {"OPERA/9.80 (ANDROID; OPERA MINI/32.0.2254/79.13; U; EN) PRESTO/2.12.423 VERSION/12.16", new DeviceSummary("tv", "molotov", null, "android", "1.11.0.", "11.2.1")}
            , {"APPLETV/7.2.2 IOS/8.4.2 APPLETV/7.2.2 MODEL/APPLETV3,2 BUILD/12H606 (3; DT:12)", new DeviceSummary("tv", "molotov", null, "ios", "1.11.0.", "11.2.1")}
            , {"APPLE TV/3.18/APPLE TV/APPLETV5,3/11.2.1", new DeviceSummary("tv", "molotov", null, "ios", "1.11.0.", "11.2.1")}
            , {"MOZILLA/5.0 (X11; CROS ARMV7L 9901.77.0) APPLEWEBKIT/537.36 (KHTML, LIKE GECKO) CHROME/62.0.3202.97 SAFARI/537.36", new DeviceSummary("tv", "molotov", null, null, "1.11.0.", "11.2.1")}
            , {"MOLOTOV/1.11.0/APPLE TV/APPLETV5,3/11.2.1", new DeviceSummary("tv", "molotov", null, "ios", "1.11.0.", "11.2.1")}
            , {"HLNAPP/4.7.0.22 EMBEDDEDBROWSER (IPHONE; CPU IPHONE OS 10_3_1 LIKE MAC OS X) APPLEWEBKIT/603.1.30 (KHTML, LIKE GECKO) MOBILE/14E304 DEVICEUID: 5BE118B7-BBB5-41B1-A090-02AFFC09ABF9", new DeviceSummary("mobile", "MBX", "REFERENCE BOARD (G18REF)", "android", "JDQ39", "4.2.2")}
            , {"HLNAPP/4.7.1 EMBEDDEDBROWSER (LINUX; ANDROID 5.0.1; GT-I9515 BUILD/LRX22C; WV) APPLEWEBKIT/537.36 (KHTML, LIKE GECKO) VERSION/4.0 CHROME/62.0.3202.84 MOBILE SAFARI/537.36 DEVICEUID: 75F099E4-1883-4004-A177-64B5FCC24C81", new DeviceSummary("mobile", "MBX", "REFERENCE BOARD (G18REF)", "android", "JDQ39", "4.2.2")}
            , {"DALVIK/2.1.0 (LINUX; U; ANDROID 5.1; SANTIN #CANDY U7 BUILD/LMY47D)", new DeviceSummary("mobile", "SANTIN", "#CANDY U7", "android", "LMY47D", "5.1")}
            , {"DALVIK/2.1.0 (LINUX; U; ANDROID 5.1; S'PHONE QC50 BUILD/UNKNOWN)", new DeviceSummary("mobile", "S'PHONE", "QC50", "android", "UNKNOWN", "5.1")}
            , {"MOZILLA/5.0 (FREEBSD; U; VIERA; PT-BR) APPLEWEBKIT/537.11 (KHTML, LIKE GECKO) VIERA/3.18.1 CHROME/23.0.1271.97 SAFARI/537.11 SMARTTVA/3.0.0", new DeviceSummary(null, "VIAFREE", null, "android", "2.2.0", "6.0.1-AMLOGIC-VORKE Z1")}
            , {"MOZILLA/5.0 (LINUX; NETCAST; U) APPLEWEBKIT/537.31 (KHTML, LIKE GECKO) CHROME/38.0.2125.122 SAFARI/537.31 SMARTTV/7.0", null}
            , {"MOZILLA/5.0 (IPHONE; CPU IPHONE OS 11_1_2 LIKE MAC OS X) APPLEWEBKIT/604.3.5 (KHTML, LIKE GECKO) MOBILE/15B202 GLBMOBAPP_IOS/1/1.000000", null}
            , {"ANDROID (LINUX; U; ANDROID 24; FR; LGE/LG-H850) COM.BACKELITE.VINGTMINUTES/4.10.2", null}
            , {"ANDROID.THUNDER.MOZILLA/5.0 (LINUX; ANDROID 7.0; EVA-AL10 BUILD/HUAWEIEVA-AL10; WV) APPLEWEBKIT/537.36 (KHTML, LIKE GECKO) VERSION/4.0 CHROME/53.0.2785.49 MOBILE MQQBROWSER/6.2 TBS/043632 SAFARI/537.36", null}
            , {"MOZILLA/5.0 (LINUX; ANDROID 5.0.2; SM-A500L BUILD/LRX22G; WV) APPLEWEBKIT/537.36 (KHTML, LIKE GECKO) VERSION/4.0 CHROME/63.0.3239.111 MOBILE SAFARI/537.36 [FB_IAB/FB4A;FBAV/119.0.0.23.70;]", null}
            , {"HLNAPP/4.7.2 EMBEDDEDBROWSER (LINUX; ANDROID 5.1.1; DORO 8030/8031/8028 BUILD/EU_RET_03.14.02; WV) APPLEWEBKIT/537.36 (KHTML, LIKE GECKO) VERSION/4.0 CHROME/63.0.3239.83 MOBILE SAFARI/537.36 DEVICEUID: AB7D0BC2-F715-41B5-89DA-A3193FFEA7F6", new DeviceSummary("mobile", "MBX", "REFERENCE BOARD (G18REF)", "android", "JDQ39", "4.2.2")}

            , {"GEMIUSSDK/1.2.1 (IPAD; CPU OS 8_4_1 LIKE MAC OS X) APPLEWEBKIT/600.1.4 (KHTML, LIKE GECKO) MOBILE/12H321", null}
            , {"HLNAPP/4.7.1 EMBEDDEDBROWSER (LINUX; ANDROID 5.0.2; SM-T535 BUILD/LRX22G; WV) APPLEWEBKIT/537.36 (KHTML, LIKE GECKO) VERSION/4.0 CHROME/62.0.3202.84 SAFARI/537.36", null}

            , {"MOZILLA/5.0 (LINUX; ANDROID 7.1.2; QM163E BUILD/NZH54D; WV) APPLEWEBKIT/537.36 (KHTML, LIKE GECKO) VERSION/4.0 CHROME/63.0.3239.111 MOBILE SAFARI/537.36; XDKANDROIDWEBVIEW/2.5.3/XDKWEBVIEW; PHILIPS; PHILIPS/QM16XE_U/QM16XE_U:7.1.2/NZH54D/0152091:USER", new DeviceSummary("tv", "philips", "QM163E", "android", "NZH54D", "7.1.2")}
            , {"MOZILLA/5.0 (LINUX; ANDROID 5.0.2; SAMSUNG SM-T530 BUILD/LRX22G) APPLEWEBKIT/537.36 (KHTML, LIKE GECKO) SAMSUNGBROWSER/6.2 CHROME/56.0.2924.87 SAFARI/537.36", new DeviceSummary(null, "SAMSUNG", "SM-T530", "android", "LRX22G", "5.0.2")}
            , {"MOZILLA/5.0 (WEB0S; LINUX/SMARTTV) APPLEWEBKIT/537.36 (KHTML, LIKE GECKO) CHR0ME/38.0.2125.122 SAFARI/537.36 LG BROWSER/8.00.00(LGE; 55UH750V-ZA; 05.30.02; 1; DTV_W16N); WEBOS.TV-2016; LG NETCAST.TV-2013 COMPATIBLE (LGE, 55UH750V-ZA, WIRELESS)", new DeviceSummary("tv", "lg", "QM163E", "webos", "NZH54D", "7.1.2")}

            , {"VIAFREE/2.3.0 (IPHONE; IOS 11_1_2)", new DeviceSummary(null, "VIAFREE", null, "ios", "2.2.0", "6.0.1-AMLOGIC-VORKE Z1")}
            , {"VIAFREE/2.2.0 (ANDROID 6.0.1-AMLOGIC-VORKE Z1)", new DeviceSummary(null, "VIAFREE", null, "android", "2.2.0", "6.0.1-AMLOGIC-VORKE Z1")}
            , {"MOZILLA/5.0 (WEB0S; LINUX/SMARTTV) APPLEWEBKIT/538.2 (KHTML, LIKE GECKO) LARGE SCREEN WEBAPPMANAGER SAFARI/538.2", new DeviceSummary("tv", null, "linux", "linux", null, null)}
            , {"MOZILLA/5.0 (WEB0S; LINUX/SMARTTV) APPLEWEBKIT/537.36 (KHTML, LIKE GECKO) CHROME/38.0.2125.122 SAFARI/537.36 WEBAPPMANAGER", new DeviceSummary("tv", null, "linux", "linux", null, null)}
            , {"MOZILLA/5.0 (WINDOWS NT 10.0; WIN64; X64) APPLEWEBKIT/537.36 (KHTML, LIKE GECKO) MOLOTOV/1.8.0 CHROME/58.0.3029.110 ELECTRON/1.7.9 SAFARI/537.36", new DeviceSummary("pc", "windows", "64", "windows", null, "10.0")}
            , {"MOZILLA/5.0 (SMARTHUB; SMART-TV; U; LINUX/SMARTTV+2014; MAPLE2012) APPLEWEBKIT/537.42+ (KHTML, LIKE GECKO) SMARTTV SAFARI/537.42+", new DeviceSummary("tv", null, "linux", "android", null, "SMARTTV+2014")}
            , {"MOZILLA/5.0 (IPAD; CPU OS 10_1_1 LIKE MAC OS X) APPLEWEBKIT/602.2.14 (KHTML, LIKE GECKO) VERSION/10.0 MOBILE/14B100 SAFARI/602.1", new DeviceSummary("tablet", "apple", "ipad", "ios", "14B100", "10.0")}
            , {"MOZILLA/5.0 (IPHONE; CPU IPHONE OS 11_1 LIKE MAC OS X) APPLEWEBKIT/604.3.5 (KHTML, LIKE GECKO) VERSION/11.0 MOBILE/15B93 SAFARI/604.1", new DeviceSummary("mobile", "apple", "iphone", "ios", "15B93", "11.0")}
            , {"MOZILLA/5.0 (LINUX; ANDROID 4.4.4; ES-ES; SAMSUNG GT-I9300I BUILD/KTU84P) APPLEWEBKIT/537.36 (KHTML, LIKE GECKO) VERSION/1.5 CHROME/28.0.1500.94 MOBILE SAFARI/537.36", new DeviceSummary("mobile", "SAMSUNG", "GT-I9300I", "android", "KTU84P", "4.4.4")}
            , {"BEIN CONNECT/2.2.2/IPHONE/IPHONE5,3/9.2.1", new DeviceSummary("mobile", "BEIN CONNECT", null, "ios", "2.2.2", "9.2.1")}
            , {"40/29 NEWS/5.12.65/IPHONE/IPHONE9,4/11.2.1", new DeviceSummary("mobile", "40/29 NEWS", null, "ios", "5.12.65", "11.2.1")}
            , {"5SPORTS/1.0/IPHONE/IPHONE9,3/11.1", new DeviceSummary("mobile", "5SPORTS", null, "ios", "1.0", "11.1")}

            , {"MOZILLA/5.0 (LINUX; ANDROID 5.0.2; SAMSUNG SM-A500FU BUILD/LRX22G) APPLEWEBKIT/537.36 (KHTML, LIKE GECKO) SAMSUNGBROWSER/3.3 CHROME/38.0.2125.102 MOBILE SAFARI/537.36", new DeviceSummary("mobile", "SAMSUNG", "SM-A500FU", "android", "LRX22G", "5.0.2")}
            , {"MOZILLA/5.0 (LINUX; ANDROID 5.0.2; SAMSUNG SM-T530 BUILD/LRX22G) APPLEWEBKIT/537.36 (KHTML, LIKE GECKO) SAMSUNGBROWSER/6.2 CHROME/56.0.2924.87 SAFARI/537.36", new DeviceSummary(null, "samsung", "SM-T530", "LRX22G", "android", "5.0.2")}
            , {"MOZILLA/5.0 (LINUX; ANDROID 5.1.1; SAMSUNG SM-G361F BUILD/LMY48B) APPLEWEBKIT/537.36 (KHTML, LIKE GECKO) SAMSUNGBROWSER/3.3 CHROME/38.0.2125.102 MOBILE SAFARI/537.36", new DeviceSummary("mobile", "SAMSUNG", "SM-G361F", "android", "LMY48B", "5.1.1")}
            , {"MOZILLA/5.0 (LINUX; ANDROID 5.1.1; SAMSUNG SM-G531F BUILD/LMY48B) APPLEWEBKIT/537.36 (KHTML, LIKE GECKO) SAMSUNGBROWSER/3.3 CHROME/38.0.2125.102 MOBILE SAFARI/537.36", new DeviceSummary("mobile", "SAMSUNG", "SM-G531F", "android", "LMY48B", "5.1.1")}
            , {"MOZILLA/5.0 (LINUX; ANDROID 5.1.1; SAMSUNG SM-J500FN-ORANGE BUILD/LMY48B) APPLEWEBKIT/537.36 (KHTML, LIKE GECKO) SAMSUNGBROWSER/3.3 CHROME/38.0.2125.102 MOBILE SAFARI/537.36", new DeviceSummary("mobile", "SAMSUNG", "SM-J500FN-ORANGE", "android", "LMY48B", "5.1.1")}
            , {"DALVIK/1.6.0 (LINUX; U; ANDROID 4.0.4; GT-P7510 BUILD/IMM76D)", new DeviceSummary("mobile", null, "GT-P7510", "android", "IMM76D", "4.0.4")}
            , {"DALVIK/1.6.0 (LINUX; U; ANDROID 4.1.1; BQ CURIE BUILD/1.1.0 20130322-14:50)", new DeviceSummary("mobile", "BQ", "CURIE", "android", "1.1.0 20130322-14:50", "4.1.1")}
            , {"DALVIK/1.6.0 (LINUX; U; ANDROID 4.2.2; FNAC 3.0 10 PLUS BUILD/1.2.0_20140106-16:18)", new DeviceSummary("mobile", "FNAC", "3.0 10 PLUS", "android", "1.2.0_20140106-16:18", "4.2.2")}
            , {"DALVIK/1.6.0 (LINUX; U; ANDROID 4.2.2; WOXTER ANDROID TV 700 BUILD/JDQ39)", new DeviceSummary("tv", "WOXTER", "700", "android", "JDQ39", "4.2.2")}
            , {"DALVIK/1.6.0 (LINUX; U; ANDROID 4.4.2; ANDROID TV 900 BUILD/KOT49H)", new DeviceSummary("tv", null, "900", "android", "KOT49H", "4.4.2")}
            , {"DALVIK/2.1.0 (LINUX; U; ANDROID 5.1.1; REDMI 3 MIUI/V7.1.1.0.0.LHPCNCK)", new DeviceSummary("mobile", "REDMI", "3 MIUI", "android", "V7.1.1.0.0.LHPCNCK", "5.1.1")}
            , {"DALVIK/2.1.0 (LINUX; U; ANDROID 5.1; 5015D BUILD/LMY47I)", new DeviceSummary("mobile", null, "5015D", "android", "LMY47I", "5.1")}
            , {"DALVIK/2.1.0 (LINUX; U; ANDROID 6.0.1; AQUARIS U LITE BUILD/MMB29M)", new DeviceSummary("mobile", "AQUARIS", "U LITE", "android", "MMB29M", "6.0.1")}
            , {"DALVIK/1.6.0 (LINUX; U; ANDROID 4.2.2; MBX REFERENCE BOARD (G18REF) BUILD/JDQ39)", new DeviceSummary("mobile", "MBX", "REFERENCE BOARD (G18REF)", "android", "JDQ39", "4.2.2")}
            , {"DALVIK/2.1.0 (LINUX; U; ANDROID 5.1; X10 PLUS(F2D6) BUILD/LMY47I)", new DeviceSummary("mobile", "X10", "PLUS (F2D6)", "android", "LMY47I", "5.1")}
            , {"DALVIK/2.1.0 (LINUX; U; ANDROID 6.0; FORCE X BUILD/MRA58K)", new DeviceSummary("mobile", "FORCE", "X", "android", "MRA58K", "6.0")}

            , {"MOZILLA/5.0 (IPAD; CPU OS 10_3_3 LIKE MAC OS X) APPLEWEBKIT/603.1.30 (KHTML, LIKE GECKO) CRIOS/62.0.3202.70 MOBILE/14G60 SAFARI/602.1", new DeviceSummary("tablet", "apple", "IPAD", "ios", "14G60", null)}
            , {"MOZILLA/5.0 (IPAD; CPU OS 11_2_1 LIKE MAC OS X) APPLEWEBKIT/604.1.34 (KHTML, LIKE GECKO) GSA/41.0.178428663 MOBILE/15C153 SAFARI/604.1", new DeviceSummary("tablet", "apple", "IPAD", "ios", "15C153", null)}
            , {"MOZILLA/5.0 (IPAD; CPU OS 10_0_2 LIKE MAC OS X) APPLEWEBKIT/602.1.50 (KHTML, LIKE GECKO) MOBILE/14A456 [FBAN/FBIOS;FBAV/147.0.0.46.81;FBBV/76961488;FBDV/IPAD4,5;FBMD/IPAD;FBSN/IOS;FBSV/10.0.2;FBSS/2;FBCR/CARRIER;FBID/TABLET;FBLC/EN_US;FBOP/5;FBRV/0]", new DeviceSummary("tablet", "apple", "IPAD", "ios", "14A456", null)}
            , {"EKIOH V2.2.8.6-OPENTV-5 (JAN 31 2017) RUNVERSIONED", new DeviceSummary(null, "EKIOH", null, null, null, "V2.2.8.6-OPENTV-5 ( JAN 31 2017 ) RUNVERSIONED")}
            , {"ROKU/DVP-7.73 (107.73E04121A)", new DeviceSummary(null, "ROKU", null, null, "DVP-7.73", "107.73E04121A")}
            , {"MOZILLA/5.0 (WINDOWS NT 10.0; WIN64; X64; RV:57.0) GECKO/20100101 FIREFOX/57.0", new DeviceSummary("pc", "windows", "64", "windows", null, "10.0")}
            , {"VIAPLAY/4.26.1 (ANDROID 7.0)", new DeviceSummary("mobile", "viaplay", null, "android", "4.26.1", "7.0")}
            , {"VIAPLAY/4.33 (IPAD; IOS 9_3_5)", new DeviceSummary("tablet", "viaplay", "ipad", "ios", "4.33", "9.3.5")}
            , {"VIAPLAY/4.33 (IPHONE; IOS 11_2_1)", new DeviceSummary("mobile", "viaplay", "iphone", "ios", "4.33", "11.2.1")}
            , {"MOZILLA/5.0 (LINUX; TIZEN 2.3) APPLEWEBKIT/538.1 (KHTML, LIKE GECKO)VERSION/2.3 TV SAFARI/538.1", new DeviceSummary("tv", null, null, "tizen", null, "2.3")}
            , {"MOZILLA/5.0 (MACINTOSH; INTEL MAC OS X 10_13_1) APPLEWEBKIT/604.3.5 (KHTML, LIKE GECKO) VERSION/11.0.1 SAFARI/604.3.5", new DeviceSummary("pc", "apple", null, "MACINTOSH", null, "10.13.1")}
            , {"MOZILLA/5.0 (SMART-TV; LINUX; TIZEN 2.4.0) APPLEWEBKIT/538.1 (KHTML, LIKE GECKO) VERSION/2.4.0 TV SAFARI/538.1", new DeviceSummary("tv", null, null, "tizen", null, "2.4.0")}
            , {"MOZILLA/5.0 (X11; LINUX ARMV7L) APPLEWEBKIT/537.36 (KHTML, LIKE GECKO) CHROME/63.0.3239.58 SAFARI/537.36 CRKEY/1.29.104827", new DeviceSummary("chromecast", "google", null, "linux", null, "1.29.104827")}
            , {"MOZILLA/5.0 (WINDOWS NT 10.0; WOW64; TRIDENT/7.0; RV:11.0) LIKE GECKO", new DeviceSummary("pc", "windows", "64", "windows", null, "10.0")}
            , {"MOZILLA/5.0 (WINDOWS NT 6.1) APPLEWEBKIT/537.36 (KHTML, LIKE GECKO) CHROME/63.0.3239.84 SAFARI/537.36", new DeviceSummary("pc", "windows", null, "windows", null, "6.1")}
            , {"MOZILLA/5.0 (WINDOWS NT 10.0; WIN64; X64) APPLEWEBKIT/537.36 (KHTML, LIKE GECKO) CHROME/63.0.3239.84 SAFARI/537.36", new DeviceSummary("pc", "windows", "64", "windows", null, "10.0")}
            , {"MOZILLA/5.0 (WINDOWS NT 6.1; WIN64; X64) APPLEWEBKIT/537.36 (KHTML, LIKE GECKO) CHROME/63.0.3239.84 SAFARI/537.36", new DeviceSummary("pc", "windows", "64", "windows", null, "6.1")}
            , {"MOZILLA/5.0 (PLAYSTATION 4) APPLEWEBKIT/531.3 (KHTML, LIKE GECKO) SCEE/1.0 NUANTI/2.0", new DeviceSummary("console", "playstation", "android", null, "4", null)}

            , {"MOZILLA/5.0 (ANDROID 6.0; MOBILE; RV:57.0) GECKO/57.0 FIREFOX/57.0", new DeviceSummary("mobile", "MBX", "REFERENCE BOARD (G18REF)", "android", "JDQ39", "4.2.2")}
            , {"MOZILLA/5.0 (FREEBSD; U; VIERA; JA-JP) APPLEWEBKIT/537.11 (KHTML, LIKE GECKO) VIERA/3.19.8 CHROME/23.0.1271.97 SAFARI/537.11 SMARTTVA/3.0.0 /RAKUTEN SHOWTIME TV APP FOR PANASONIC IPTV", new DeviceSummary("mobile", "MBX", "REFERENCE BOARD (G18REF)", "android", "JDQ39", "4.2.2")}
            , {"MOZILLA/5.0 (FREEBSD; U; VIERA; LIKE ANDROID 4.0.2; JA-JP) APPLEWEBKIT/537.11 (KHTML, LIKE GECKO) VIERA/3.2.0 DIGAPLUS/1.0.0 MOBILE/537.11", new DeviceSummary("mobile", "MBX", "REFERENCE BOARD (G18REF)", "android", "JDQ39", "4.2.2")}
            , {"MOZILLA/5.0 (FREEBSD; U; VIERA; NL-NL) APPLEWEBKIT/537.11 (KHTML, LIKE GECKO) VIERA/3.10.14 CHROME/23.0.1271.97 SAFARI/537.11 SMARTTVA/3.0.0 / MODEL/GBL14LD6_EU", new DeviceSummary("mobile", "MBX", "REFERENCE BOARD (G18REF)", "android", "JDQ39", "4.2.2")}
//,{"MOZILLA/5.0 (MACINTOSH; INTEL MAC OS X 10_13_1) APPLEWEBKIT/537.36 (KHTML, LIKE GECKO) CHROME/63.0.3239.84 SAFARI/537.36", "MACINTOSH 10"}
//,{"MOZILLA/5.0 (UNKNOWN; LINUX ARMV7L) APPLEWEBKIT/537.1+ (KHTML, LIKE GECKO) SAFARI/537.1+ LG BROWSER/6.00.00(+MOUSE+SCREEN+TUNER; LGE; 55LB5820-ZJ; 04.04.25; 0X00000001;); LG NETCAST.TV-2013 /04.04.25 (LG, 55LB5820-ZJ, WIRELESS)", "LG"}
//,{"DALVIK/1.6.0 (LINUX; U; ANDROID 4.0.4; GT-P7510 BUILD/IMM76D)", "GT-P7510"}
//,{"DALVIK/2.1.0 (LINUX; U; ANDROID 5.1.1; MI-4C MIUI/V8.0.4.0.0.LXKCNDG)", "MI-4C MIUI"}
            , {"MOZILLA/5.0 (DIRECTFB; LINUX ARMV7L) APPLEWEBKIT/534.26+ (KHTML, LIKE GECKO) VERSION/5.0 SAFARI/534.26+ LG BROWSER/5.00.00(+MOUSE+3D+SCREEN+TUNER; LGE; 42LM620S-ZE; 04.62.12; 0X00000001;); LG NETCAST.TV-2012", new DeviceSummary("tv", "lg", "+MOUSE+3D+SCREEN+TUNER ;LGE ;42LM620S-ZE ;04.62.12 ;0X00000001 ;", "android", null, "5.00.00")}
            , {"ANDROID", new DeviceSummary(null, "android", null, "android", null, null)}

            /*
TOP 20

0.3802482700658109
0.32721719037133246
0.2360453226166096
0.14902952530279187
0.12572419877800914
0.07057072190027866
0.06337851694986595
0.05787689820392635
0.05412744567449127
0.05297077287410849
0.05249921996851253
0.04004621962415302
0.03989934686776955
0.035520564799598586
0.007229141564748587
0.010632018895342014
0.00894368463474884
0.0036812291349983053
0.0022334200879670536
0.0014905671286441747
0.0013594084129815082
0.001329713677305589

0.012457231704921771
1941> OPERA/9.80 (LINUX ARMV7L; HBBTV/1.2.1 (; PHILIPS; 47PFG710978; ; PHILIPSTV;  CE-HTML/1.0 NETTV/4.4.1 SMARTTVA/3.0.0 FIRMWARE/028.003.026.128 (PHILIPSTV, 3.1.1,)EN) ) PRESTO/2.12.407 VERSION/12.50
1962> OPERA/9.80 (LINUX ARMV7L; HBBTV/1.2.1 (; PHILIPS; 55PUG630078; ; PHILIPSTV;  CE-HTML/1.0 NETTV/4.4.2 SMARTTVA/3.0.0 FIRMWARE/028.002.004.001 (PHILIPSTV, 4.1.1,)EN) ) PRESTO/2.12.407 VERSION/12.50
1984> OPERA/9.80 (LINUX ARMV7L) PRESTO/2.12.407 VERSION/12.50 SONYCEBROWSER/1.0 (KDL-32W700C; CTV/PKG3.003GAA; NZL;)
2000> MOZILLA/5.0 (DIRECTFB; LINUX ARMV7L) APPLEWEBKIT/534.26+ (KHTML, LIKE GECKO) VERSION/5.0 SAFARI/534.26+ LG BROWSER/5.00.00(+BDP; LGE; MEDIA/BH9540; 5033; ABC;); LG NETCAST.MEDIA-2012 /5033 (LG, MEDIA/BH9540, WIRED)
2011> OPERA/9.80 (LINUX ARMV7L) PRESTO/2.12.407 VERSION/12.50 SONYCEBROWSER/1.0 (KDL-42W800B; CTV/PKG3.003GAA; NZL;)
2022> MOZILLA/5.0 (LINUX ARMV7L) APPLEWEBKIT/537.36 (KHTML, LIKE GECKO) CHROME/42.0.2311.152 SAFARI/537.36 OPR/29.0.1803.0 OMI/4.5.23.37.ALSAN5.131 SONYCEBROWSER/1.0 (DTV14/KDL-40W655D; CTV/V6.209; ARG; SPA;)
2024> MOZILLA/5.0 (WINDOWS NT 6.1; WOW64; RV:52.0) GECKO/20100101 FIREFOX/52.0; FIREFOX 52.5.0 - 111512-1800920044-1.46
2057> OPERA/9.80 (LINUX ARMV7L; HBBTV/1.2.1 (; PHILIPS; 40PFG630978; ; PHILIPSTV;  CE-HTML/1.0 NETTV/4.4.1 SMARTTVA/3.0.0 FIRMWARE/026.003.046.128 (PHILIPSTV, 3.1.1,)EN) ) PRESTO/2.12.407 VERSION/12.50
2067> MOZILLA/5.0 (WEB0S; LINUX/SMARTTV) APPLEWEBKIT/537.36 (KHTML, LIKE GECKO) QTWEBENGINE/5.2.1 CHR0ME/38.0.2125.122 SAFARI/537.36 LG BROWSER/8.00.00(LGE; 49UH603V-ZE; 04.30.70; 1; DTV_W16P); WEBOS.TV-2016; LG NETCAST.TV-2013 COMPATIBLE (LGE, 49UH603V-ZE
2144> OPERA/9.80 (LINUX ARMV7L; HBBTV/1.2.1 (; PHILIPS; 40PFG611078; ; PHILIPSTV;  CE-HTML/1.0 NETTV/4.4.2 SMARTTVA/3.0.0 FIRMWARE/026.002.012.001 (PHILIPSTV, 4.1.1,)EN) ) PRESTO/2.12.407 VERSION/12.50
2148> MOZILLA/5.0 (EN-US;)
2199> MOZILLA/5.0 (LINUX ARMV7L) APPLEWEBKIT/537.36 (KHTML, LIKE GECKO) CHROME/49.0.2623.112 SAFARI/537.36 OPR/36.0.2128.0 OMI/4.8.0.129.PIXEL.54 SONYCEBROWSER/1.0 (KD-55X705E; PTV2017/V7.421; BRA;)
2215> OPERA/9.80 (LINUX MIPS; CE-HTML/1.0) PRESTO/2.12.407 VERSION/12.50 HBBTV/1.2.1 (; FREESAT/1.0; HDR1000S; 1.0.0; 1.0.0; WIRELESS)
2218> MOZILLA/5.0 (MOBILE; LYF/F90M/LYF-F90M-000-02-23-181217; ANDROID; RV:48.0) GECKO/48.0 FIREFOX/48.0 KAIOS/2.0
2256> OPERA/9.80 (LINUX ARMV7L; HBBTV/1.2.1 (; PHILIPS; 47PFG651978; ; PHILIPSTV;  CE-HTML/1.0 NETTV/4.4.1 SMARTTVA/3.0.0 FIRMWARE/026.003.026.128 (PHILIPSTV, 3.1.1,)EN) ) PRESTO/2.12.407 VERSION/12.50
2268> OPERA/9.80 (LINUX ARMV7L; HBBTV/1.2.1 (; PHILIPS; 48PFG510078; ; PHILIPSTV;  CE-HTML/1.0 NETTV/4.4.2 SMARTTVA/3.0.0 FIRMWARE/026.002.012.001 (PHILIPSTV, 4.1.1,)EN) ) PRESTO/2.12.407 VERSION/12.50
2410> OPERA/9.80 (LINUX ARMV7L; HBBTV/1.2.1 (; PHILIPS; 47PFG680978; ; PHILIPSTV;  CE-HTML/1.0 NETTV/4.4.1 SMARTTVA/3.0.0 FIRMWARE/026.003.026.128 (PHILIPSTV, 3.1.1,)EN) ) PRESTO/2.12.407 VERSION/12.50
2498> MOZILLA/5.0 (WINDOWS; U; WINDOWS NT 10.0; EN-US; VALVE STEAM GAMEOVERLAY/1509425745; ) APPLEWEBKIT/537.36 (KHTML, LIKE GECKO) CHROME/60.0.3112.90 SAFARI/537.36
2510> MOZILLA/5.0 (MOBILE; LYF/F101K/LYF_F101K-000-01-26-181117; RV:48.0) GECKO/48.0 FIREFOX/48.0 KAIOS/2.0
2512> MOZILLA/5.0 (MOBILE; LYF/F50Y/LYF-F50Y-000-01-28-080917; RV:48.0) GECKO/48.0 FIREFOX/48.0 KAIOS/2.0
2532> MOZILLA/5.0 (MOBILE; LYF/LF-2403N/LYF-LF2403N-000-01-38-151217;ANDROID; RV:48.0) GECKO/48.0 FIREFOX/48.0 KAIOS/2.0
2578> OPERA/9.80 (LINUX ARMV7L; HBBTV/1.2.1 (; PHILIPS; 42PFG680978; ; PHILIPSTV;  CE-HTML/1.0 NETTV/4.4.1 SMARTTVA/3.0.0 FIRMWARE/026.003.026.128 (PHILIPSTV, 3.1.1,)EN) ) PRESTO/2.12.407 VERSION/12.50
2584> OPERA/9.80 (LINUX ARMV7L) PRESTO/2.12.407 VERSION/12.50 SONYCEBROWSER/1.0 (KDL-55W800B; CTV/PKG3.003GAA; NZL;)
2611> OPERA/9.80 (LINUX ARMV7L) PRESTO/2.12.407 VERSION/12.50 SONYCEBROWSER/1.0 (KDL-50W800B; CTV/PKG3.003GAA; NZL;)
2618> MOZILLA/5.0 (LINUX ARMV7L) APPLEWEBKIT/537.36 (KHTML, LIKE GECKO) CHROME/49.0.2623.112 SAFARI/537.36 OPR/36.0.2128.0 OMI/4.8.0.129.PIXEL.54 SONYCEBROWSER/1.0 (KD-49X705E; PTV2017/V7.421; BRA;)
2666> MOZILLA/5.0 (LINUX ARMV7L) APPLEWEBKIT/537.36 (KHTML, LIKE GECKO) CHROME/42.0.2311.152 SAFARI/537.36 OPR/29.0.1803.0 OMI/4.5.23.37.ALSAN5.131 SONYCEBROWSER/1.0 (DTV14/KDL-48W655D; CTV/V6.209; ARG; SPA;)
2673> UNDEFINED
2679> OPERA/9.80 (LINUX ARMV7L; HBBTV/1.2.1 (; PHILIPS; 58PUG690078; ; PHILIPSTV;  CE-HTML/1.0 NETTV/4.4.1 SMARTTVA/3.0.0 FIRMWARE/028.003.026.128 (PHILIPSTV, 3.1.1,)EN) ) PRESTO/2.12.407 VERSION/12.50
2681> MOZILLA/5.0 (WEB0S; LINUX/SMARTTV) APPLEWEBKIT/537.36 (KHTML, LIKE GECKO) QTWEBENGINE/5.2.1 CHR0ME/38.0.2125.122 SAFARI/537.36 LG BROWSER/8.00.00(LGE; 55UH615V-ZB; 04.30.70; 1; DTV_W16P); WEBOS.TV-2016; LG NETCAST.TV-2013 COMPATIBLE (LGE, 55UH615V-ZB
2685> MOZILLA/5.0 (LINUX ARMV7L) APPLEWEBKIT/537.36 (KHTML, LIKE GECKO) CHROME/42.0.2311.152 SAFARI/537.36 OPR/29.0.1803.0 OMI/4.5.23.37.ALSAN5.131 SONYCEBROWSER/1.0 (DTV14/KDL-40W650D; CTV/V4.316; MEX; SPA;)
2710> OUTTVGO/1.0/APPLE TV/APPLETV5,3/11.2.1
2730> MOZILLA/5.0 (WINDOWS NT 10.0; WOW64; RV:52.0) GECKO/20100101 FIREFOX/52.0; FIREFOX 52.5.0 - 111512-1800920044-1.38
2748> OPERA/9.80 (LINUX MIPS; CE-HTML/1.0) PRESTO/2.12.407 VERSION/12.50 HBBTV/1.2.1 (; FREESAT/1.0; HDR1000S; 1.0.0; 1.0.0; WIRED)
2749> OPERA/9.80 (LINUX ARMV7L; HBBTV/1.2.1 (; PHILIPS; ; ; ; ) NETTV/5.1.1 SMARTTVA/3.0.0 (PHILIPSTV, 6.1.1,) FIRMWARE/ FIRMWARE/) PRESTO/2.12.407 VERSION/12.50
2763> TEDI/2.6/IPAD/IPAD2,2/9.3.5
2815> MOZILLA/5.0 (LINUX ARMV7L) APPLEWEBKIT/537.36 (KHTML, LIKE GECKO) CHROME/49.0.2623.112 SAFARI/537.36 OPR/36.0.2128.0 OMI/4.8.0.53.DRIVER.52 , _TV_5596L/012.002.030.001 (PHILIPS, 43PUG6102-78, WIRELESS) CE-HTML/1.0 NETTV/4.5.0 SIGNON/2.0 SMARTTVA/4.0.
2823> OPERA/9.80 (LINUX ARMV7L; HBBTV/1.2.1 (; PHILIPS; 42PFG590978; ; PHILIPSTV;  CE-HTML/1.0 NETTV/4.4.1 SMARTTVA/3.0.0 FIRMWARE/026.003.026.128 (PHILIPSTV, 3.1.1,)EN) ) PRESTO/2.12.407 VERSION/12.50
2886> MOZILLA/5.0 (LINUX ARMV7L) APPLEWEBKIT/537.36 (KHTML, LIKE GECKO) CHROME/42.0.2311.152 SAFARI/537.36 OPR/29.0.1803.0 OMI/4.5.23.37.ALSAN5.131 SONYCEBROWSER/1.0 (DTV14/KDL-48W650D; CTV/V4.316; MEX; SPA;)
2984> MOZILLA/5.0 (DIRECTFB; LINUX ARMV7L) APPLEWEBKIT/534.26+ (KHTML, LIKE GECKO) VERSION/5.0 SAFARI/534.26+ LG BROWSER/5.00.00(+BDP; LGE; MEDIA/BP740; 5476; ABC;); LG NETCAST.MEDIA-2012 /5476 (LG, MEDIA/BP740, WIRELESS)
2997> OPERA/9.80 (LINUX ARMV7L) PRESTO/2.12.407 VERSION/12.50 SONYCEBROWSER/1.0 (KDL-40W700C; CTV/PKG3.003GAA; NZL;)
3056> MOZILLA/5.0 (MOBILE; LYF/F90M/LYF-F90M-000-02-18-121017; RV:48.0) GECKO/48.0 FIREFOX/48.0 KAIOS/2.0
3104> OPERA/9.80 (LINUX ARMV7L) PRESTO/2.12.407 VERSION/12.50 SONYCEBROWSER/1.0 (KDL-48W700C; CTV/PKG3.003GAA; NZL;)
3133> OPERA/9.80 (LINUX ARMV7L; HBBTV/1.2.1 (; PHILIPS; 48PFG630978; ; PHILIPSTV;  CE-HTML/1.0 NETTV/4.4.1 SMARTTVA/3.0.0 FIRMWARE/026.003.026.128 (PHILIPSTV, 3.1.1,)EN) ) PRESTO/2.12.407 VERSION/12.50
3224> OPERA/9.80 (LINUX ARMV7L) PRESTO/2.12.407 VERSION/12.50 SONYCEBROWSER/1.0 (KD-55X8500B; CTV/PKG3.003GAA; NZL;)
3225> MOZILLA/5.0 (WEB0S; LINUX/SMARTTV) APPLEWEBKIT/537.36 (KHTML, LIKE GECKO) QTWEBENGINE/5.2.1 CHR0ME/38.0.2125.122 SAFARI/537.36 LG BROWSER/8.00.00(LGE; 49UH610V-ZB; 04.30.70; 1; DTV_W16P); WEBOS.TV-2016; LG NETCAST.TV-2013 COMPATIBLE (LGE, 49UH610V-ZB
3249> MOZILLA/5.0 (WEB0S; LINUX/SMARTTV) APPLEWEBKIT/537.36 (KHTML, LIKE GECKO) QTWEBENGINE/5.2.1 CHR0ME/38.0.2125.122 SAFARI/537.36 LG BROWSER/8.00.00(LGE; 55UH605V-ZC; 04.30.70; 1; DTV_W16P); WEBOS.TV-2016; LG NETCAST.TV-2013 COMPATIBLE (LGE, 55UH605V-ZC
3313> OPERA/9.80 (LINUX ARMV7L; HBBTV/1.2.1 (; PHILIPS; 32PHG510978; ; PHILIPSTV;  CE-HTML/1.0 NETTV/4.4.1 SMARTTVA/3.0.0 FIRMWARE/026.003.026.128 (PHILIPSTV, 3.1.1,)EN) ) PRESTO/2.12.407 VERSION/12.50
3339> TEDI/2.6/IPAD/IPAD3,4/10.3.3
3364> OPERA/9.80 (LINUX ARMV7L) PRESTO/2.12.407 VERSION/12.50 SONYCEBROWSER/1.0 (KDL-48W600B; CTV/PKG3.003GAA; NZL;)
3375> MOZILLA/5.0 (WEB0S; LINUX/SMARTTV) APPLEWEBKIT/537.36 (KHTML, LIKE GECKO) QTWEBENGINE/5.2.1 CHR0ME/38.0.2125.122 SAFARI/537.36 LG BROWSER/8.00.00(LGE; 43UH610V-ZB; 04.30.70; 1; DTV_W16P); WEBOS.TV-2016; LG NETCAST.TV-2013 COMPATIBLE (LGE, 43UH610V-ZB
3489> TEDI/2.6/IPAD/IPAD2,5/9.3.5
3722> OPERA/9.80 (LINUX ARMV7L; HBBTV/1.2.1 (; PHILIPS; 32PHG530177; ; PHILIPSTV;  CE-HTML/1.0 NETTV/4.4.2 SMARTTVA/3.0.0 FIRMWARE/026.002.004.001 (PHILIPSTV, 4.1.1,)EN) ) PRESTO/2.12.407 VERSION/12.50
3773> OPERA/9.80 (LINUX ARMV7L; HBBTV/1.2.1 (; PHILIPS; 50PUG690078; ; PHILIPSTV;  CE-HTML/1.0 NETTV/4.4.1 SMARTTVA/3.0.0 FIRMWARE/028.003.026.128 (PHILIPSTV, 3.1.1,)EN) ) PRESTO/2.12.407 VERSION/12.50
3778> MOZILLA/5.0 (DIRECTFB; LINUX ARMV7L) APPLEWEBKIT/534.26+ (KHTML, LIKE GECKO) VERSION/5.0 SAFARI/534.26+ LG BROWSER/5.00.00(+3D+BDP; LGE; MEDIA/BH9540; 5033; ABC;); LG NETCAST.MEDIA-2012 /5033 (LG, MEDIA/BH9540, WIRELESS)
3826> MOZILLA/5.0 (LINUX ARMV7L) APPLEWEBKIT/537.36 (KHTML, LIKE GECKO) CHROME/49.0.2623.112 SAFARI/537.36 OPR/36.0.2128.0 OMI/4.8.0.53.DRIVER.52 , _TV_5596L/012.002.030.001 (PHILIPS, 50PUG6102-78, WIRELESS) CE-HTML/1.0 NETTV/4.5.0 SIGNON/2.0 SMARTTVA/4.0.
3861> MOZILLA/5.0 (MOBILE; LYF/F50Y/LYF-F50Y-000-01-31-131017; RV:48.0) GECKO/48.0 FIREFOX/48.0 KAIOS/2.0
3906> OPERA/9.80 (LINUX ARMV7L; HBBTV/1.2.1 (; PHILIPS; 32PHG520178; ; PHILIPSTV;  CE-HTML/1.0 NETTV/4.4.2 SMARTTVA/3.0.0 FIRMWARE/026.002.001.001 (PHILIPSTV, 4.1.1,)EN) ) PRESTO/2.12.407 VERSION/12.50
3910> MOZILLA/5.0 (MOBILE; LYF/F41T/LYF-F41T-000-01-13-281117; RV:48.0) GECKO/48.0 FIREFOX/48.0 KAIOS/2.0
4050> MOZILLA/5.0 (LINUX; IPHONE; ANDROID 4.0; ARM;) APPLEWEBKIT/600.1.4 (KHTML, LIKE GECKO) MOBILE SAFARI/537
4138> NGK/1.5.0/IPAD/IPAD2,5/9.3.5
4141> OPERA/9.80 (LINUX ARMV7L; HBBTV/1.2.1 (; PHILIPS; 32PHG550978; ; PHILIPSTV;  CE-HTML/1.0 NETTV/4.4.1 SMARTTVA/3.0.0 FIRMWARE/026.003.026.128 (PHILIPSTV, 3.1.1,)EN) ) PRESTO/2.12.407 VERSION/12.50
4218> MOZILLA/4.0 (COMPATIBLE; MSIE 7.0; WINDOWS NT 6.1; WOW64; TRIDENT/7.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; MEDIA CENTER PC 6.0; .NET4.0C; .NET4.0E; INFOPATH.3)
4677> SPECIALAGENT
4927> OPERA/9.80 (LINUX ARMV7L; HBBTV/1.2.1 (; PHILIPS; 55PFG510078; ; PHILIPSTV;  CE-HTML/1.0 NETTV/4.4.2 SMARTTVA/3.0.0 FIRMWARE/026.002.012.001 (PHILIPSTV, 4.1.1,)EN) ) PRESTO/2.12.407 VERSION/12.50
5010> MOZILLA/4.0 (WINDOWS 98; US) OPERA 12.16 [EN]
5147> OPERA/9.80 (LINUX ARMV7L; HBBTV/1.2.1 (; PHILIPS; 42PFG651978; ; PHILIPSTV;  CE-HTML/1.0 NETTV/4.4.1 SMARTTVA/3.0.0 FIRMWARE/026.003.026.128 (PHILIPSTV, 3.1.1,)EN) ) PRESTO/2.12.407 VERSION/12.50
5327> ITUNES-APPLETV/6.2 (3; 8GB; DT:12)
5452> OPERA/9.80 (LINUX ARMV7L; HBBTV/1.2.1 (; PHILIPS; 40PFG510078; ; PHILIPSTV;  CE-HTML/1.0 NETTV/4.4.2 SMARTTVA/3.0.0 FIRMWARE/026.002.012.001 (PHILIPSTV, 4.1.1,)EN) ) PRESTO/2.12.407 VERSION/12.50
5883> MOZILLA/4.0 (COMPATIBLE; MSIE 7.0; WINDOWS NT 10.0; WOW64; TRIDENT/7.0; .NET4.0C; .NET4.0E; .NET CLR 2.0.50727; .NET CLR 3.0.30729; .NET CLR 3.5.30729)
6180> OPERA/9.80 (LINUX ARMV7L; HBBTV/1.2.1 (; PHILIPS; ; ; ; ) NETTV/5.1.1 SMARTTVA/3.0.0 (PHILIPSTV, 6.1.1,) FIRMWARE/) PRESTO/2.12.407 VERSION/12.50
6503> MOZILLA/5.0 (DIRECTFB; LINUX ARMV7L) APPLEWEBKIT/534.26+ (KHTML, LIKE GECKO) VERSION/5.0 SAFARI/534.26+ LG BROWSER/5.00.00(+BDP; LGE; MEDIA/BH9540; 5033; ABC;); LG NETCAST.MEDIA-2012 /5033 (LG, MEDIA/BH9540, WIRELESS)
6670> MOZILLA/5.0 (MOBILE; LYF/F90M/LYF-F90M-000-02-21-131117; RV:48.0) GECKO/48.0 FIREFOX/48.0 KAIOS/2.0
6772> OPERA/9.80 (LINUX ARMV7L) PRESTO/2.12.407 VERSION/12.50 SONYCEBROWSER/1.0 (KDL-40W600B; CTV/PKG3.003GAA; NZL;)
7477> OPERA/9.80 (LINUX ARMV7L; HBBTV/1.2.1 (; PHILIPS; 40PFG510978; ; PHILIPSTV;  CE-HTML/1.0 NETTV/4.4.1 SMARTTVA/3.0.0 FIRMWARE/026.003.026.128 (PHILIPSTV, 3.1.1,)EN) ) PRESTO/2.12.407 VERSION/12.50
7479> MOZILLA/5.0 (MOBILE; RV:48.0) GECKO/48.0 FIREFOX/48.0 KAIOS/2.0
7816> OPERA/9.80 (LINUX ARMV7L) PRESTO/2.12.407 VERSION/12.50 SONYCEBROWSER/1.0 (KDL-60W600B; CTV/PKG3.003GAA; NZL;)
8683> OPERA/9.80 (LINUX ARMV7L; HBBTV/1.2.1 (; PHILIPS; 40PFG630978; ; PHILIPSTV;  CE-HTML/1.0 NETTV/4.4.1 SMARTTVA/3.0.0 FIRMWARE/026.003.026.128 (PHILIPSTV, 3.1.1,)EN) ) PRESTO/2.12.407 VERSION/12.50
8729> MOZILLA/5.0 (MOBILE; $LYF/$F30C/$LYF_F30C-000-09-05-131117; RV:48.0) GECKO/48.0 FIREFOX/48.0 KAIOS/2.0
9968> MOZILLA/5.0 (MOBILE; LYF/F90M/LYF-F90M-000-02-22-011217; ANDROID; RV:48.0) GECKO/48.0 FIREFOX/48.0 KAIOS/2.0
10465> OPERA/9.80 (LINUX ARMV7L; HBBTV/1.2.1 (; PHILIPS; 40PUG630078; ; PHILIPSTV;  CE-HTML/1.0 NETTV/4.4.2 SMARTTVA/3.0.0 FIRMWARE/028.002.003.001 (PHILIPSTV, 4.1.1,)EN) ) PRESTO/2.12.407 VERSION/12.50
10666> MOZILLA/5.0 (MOBILE; LYF/F61F/LYF-F61F-000-01-14-131117; RV:48.0) GECKO/48.0 FIREFOX/48.0 KAIOS/2.0
11271> MOZILLA/5.0 (MOBILE; LYF/F81E/LYF_F81E_000_01_12_201117; RV:48.0) GECKO/48.0 FIREFOX/48.0 KAIOS/2.0
11649> OPERA/9.80 (LINUX ARMV7L; HBBTV/1.2.1 (; PHILIPS; 40PUG630078; ; PHILIPSTV;  CE-HTML/1.0 NETTV/4.4.2 SMARTTVA/3.0.0 FIRMWARE/028.002.004.001 (PHILIPSTV, 4.1.1,)EN) ) PRESTO/2.12.407 VERSION/12.50
15081> OPERA/9.80 (LINUX ARMV7L; HBBTV/1.2.1 (; PHILIPS; 32PHG520178; ; PHILIPSTV;  CE-HTML/1.0 NETTV/4.4.2 SMARTTVA/3.0.0 FIRMWARE/026.002.004.001 (PHILIPSTV, 4.1.1,)EN) ) PRESTO/2.12.407 VERSION/12.50
15093> MOZILLA/5.0 (LINUX) APPLEWEBKIT/600.8 (KHTML, LIKE GECKO) EKIOH/3.9.1 SAFARI/600.8
15509> MOZILLA/4.0 (COMPATIBLE; MSIE 7.0; WINDOWS NT 6.1; WOW64; TRIDENT/7.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; MEDIA CENTER PC 6.0; .NET4.0C; .NET4.0E)
15768> OPERA/9.80 (LINUX ARMV7L; HBBTV/1.2.1 (; AOC; LE32S576020; ; AOCTV;  CE-HTML/1.0 NETTV/4.4.1 SMARTTVA/3.0.0 FIRMWARE/026.002.011.128 (AOCTV, 3.1.1,)EN) ) PRESTO/2.12.407 VERSION/12.50
18189> OPERA/9.80 (LINUX ARMV7L; HBBTV/1.2.1 (; AOC; LE43S576020; ; AOCTV;  CE-HTML/1.0 NETTV/4.4.1 SMARTTVA/3.0.0 FIRMWARE/026.002.011.128 (AOCTV, 3.1.1,)EN) ) PRESTO/2.12.407 VERSION/12.50
18942> OPERA/9.80 (LINUX ARMV7L; HBBTV/1.2.1 (; PHILIPS; 43PFG510078; ; PHILIPSTV;  CE-HTML/1.0 NETTV/4.4.2 SMARTTVA/3.0.0 FIRMWARE/026.002.012.001 (PHILIPSTV, 4.1.1,)EN) ) PRESTO/2.12.407 VERSION/12.50
23421> NETBOX-N26-1-01-EDELWEISS/7.6.01-65
58715> NUC
81816> OPERA/29.0.1803.0, STB4K/0.2.1 (SAGEMCOM, DTIW384, WIRED)
287234> ITUNES-APPLETV/6.2.1 (2; 8GB; DT:11)
 */

    };


    @Test
    public void testParsing() {

        Utility.debug = true;

        for (Object[] pair : tests) {
            String userAgentStr = (String) pair[0];

            System.out.println("\n\ntesting " + userAgentStr);

            DeviceSummary validResult = (DeviceSummary) pair[1];
            DeviceSummary result = Utility.getDeviceSummary(userAgentStr);

            assertTrue("no result > " + userAgentStr, result != null);
        }
    }

    @Test
    public void testQuality() {

        Utility.debug = true;

        for (Object[] pair : tests) {
            String userAgentStr = (String) pair[0];

            System.out.println("\n\ntesting " + userAgentStr);

            DeviceSummary validResult = (DeviceSummary) pair[1];
            DeviceSummary result = Utility.getDeviceSummary(userAgentStr);


            assertTrue("no result > " + userAgentStr, result != null);
            if (validResult != null)
                assertTrue(userAgentStr + " \n\tre=" + result.toString() + " \n\tex=" + validResult.toString(), validResult.equals(result));
        }
    }
}
